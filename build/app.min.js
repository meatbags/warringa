var WARINGARRI=function(e){var t={};function o(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){function o(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var a=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.overlay=document.querySelector("#overlay"),this.overlayVideo=document.querySelector("#overlay-video"),this.overlayClose=document.querySelector("#overlay-close"),this.vids=document.querySelectorAll(".video"),this.vids.forEach((function(e){e.addEventListener("click",(function(){t.play(e)}))})),this.overlayClose.addEventListener("click",(function(){t.stop()})),this.loadVideos(),this.revealTiles()}var t,a,r;return t=e,(a=[{key:"loadVideos",value:function(){var e=this;this.vids.forEach((function(t){var o=document.createElement("iframe"),a=t.dataset.src;o.allow="autoplay",o.dataset.src=a,e.overlayVideo.appendChild(o),-1!==t.dataset.src.indexOf("youtube")?(o.onload=function(){var a=t.dataset.src.split("/"),r=a[a.length-1];o.player=new YT.Player(o,{videoId:r,playerVars:{controls:0},events:{onReady:function(e){console.log("Youtube player ready:",o.player)},onStateChange:function(t){console.log(t.data),0===t.data&&e.stop()},onError:function(e){console.log(e)}}})},a+="?enablejsapi=1",o.src=a,o.dataset.host="youtube"):-1!==t.dataset.src.indexOf("vimeo")&&(o.onload=function(){o.player=new Vimeo.Player(o),o.player.on("ended",(function(){e.stop()})),console.log("Vimeo player ready:",o.player)},o.src=a,o.dataset.host="vimeo")}))}},{key:"revealTiles",value:function(){this.vids.forEach((function(e,t){setTimeout((function(){e.classList.remove("hidden")}),150*(t+1))}))}},{key:"hideTiles",value:function(){this.vids.forEach((function(e,t){e.classList.add("hidden")}))}},{key:"play",value:function(e){var t=this;this.overlay.classList.add("visible");var o=this.overlay.querySelector('[data-src="'.concat(e.dataset.src,'"]'));o&&(o.classList.add("active"),"vimeo"==o.dataset.host?(o.player.play(),o.player.setCurrentTime(0)):"youtube"==o.dataset.host&&o.player.playVideo()),setTimeout((function(){t.overlay.classList.add("active"),setTimeout((function(){t.hideTiles()}),500)}),100)}},{key:"stop",value:function(){var e=this;this.overlay.classList.remove("active"),this.revealTiles(),setTimeout((function(){e.overlay.classList.remove("visible");var t=e.overlay.querySelector("iframe.active");t&&("vimeo"==t.dataset.host?(t.player.pause(),t.player.setCurrentTime(0)):"youtube"==t.dataset.host&&t.player.stopVideo(),t.classList.remove("active"))}),500)}}])&&o(t.prototype,a),r&&o(t,r),e}();window.addEventListener("load",(function(){new a}))}]);